{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/benja/Documents/Proyecto/Front/ProyectoFront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { inject } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { UsersService } from 'src/app/services/users.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction LoginComponent_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12);\n    i0.ɵɵtext(1, \"Email/Password incorrectos\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LoginComponent {\n  constructor(router) {\n    this.router = router;\n    this.showError = false;\n    this.userService = inject(UsersService);\n    this.formulario = new FormGroup({\n      email: new FormControl(),\n      password: new FormControl()\n    });\n  }\n  onSubmit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const response = yield _this.userService.login(_this.formulario.value);\n      localStorage.setItem('token', response.token);\n      if (response.token) {\n        _this.router.navigate(['/home']);\n      } else {\n        _this.showError = true;\n      }\n    })();\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 17,\n  vars: 2,\n  consts: [[1, \"container-sm\", \"mar-b\"], [1, \"row\", \"altura\"], [1, \"col-6\", \"border\", \"shadow\", \"p-4\", \"rounded\", \"rounded-5\"], [\"action\", \"http://localhost:4200/register\", 1, \"align-middle\", 3, \"formGroup\", \"ngSubmit\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [1, \"mb-3\"], [\"for\", \"\"], [\"type\", \"text\", \"formControlName\", \"email\", 1, \"form-control\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\"], [1, \"login\"], [\"type\", \"submit\", \"value\", \"Login\", 1, \"btn\", \"btn-info\"], [\"href\", \"/register\"], [2, \"color\", \"red\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵtemplate(4, LoginComponent_p_4_Template, 2, 0, \"p\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5)(6, \"label\", 6);\n      i0.ɵɵtext(7, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 5)(10, \"label\", 6);\n      i0.ɵɵtext(11, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 9);\n      i0.ɵɵelement(14, \"input\", 10);\n      i0.ɵɵelementStart(15, \"a\", 11);\n      i0.ɵɵtext(16, \"\\u00BFno tienes cuenta?\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.formulario);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showError);\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"body[_ngcontent-%COMP%]{\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.altura[_ngcontent-%COMP%]{\\r\\n        height: 250px;\\r\\n}\\r\\n\\r\\n.login[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n\\r\\n.mar-b[_ngcontent-%COMP%] {\\r\\n\\r\\n    margin-bottom: 25vh;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy91c2Vycy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLFdBQVc7QUFDZjs7QUFFQTtRQUNRLGFBQWE7QUFDckI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsOEJBQThCO0FBQ2xDOztBQUVBOztJQUVJLG1CQUFtQjtBQUN2QiIsInNvdXJjZXNDb250ZW50IjpbImJvZHl7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmFsdHVyYXtcclxuICAgICAgICBoZWlnaHQ6IDI1MHB4O1xyXG59XHJcblxyXG4ubG9naW4ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufVxyXG5cclxuLm1hci1iIHtcclxuXHJcbiAgICBtYXJnaW4tYm90dG9tOiAyNXZoO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AAAA,SAAoBA,MAAM,QAAQ,eAAe;AACjD,SAASC,WAAW,EAAEC,SAAS,QAAQ,gBAAgB;AAEvD,SAASC,YAAY,QAAQ,gCAAgC;;;;;;;ICO7CC,6BAAyC;IAAAA,0CAA0B;IAAAA,iBAAI;;;ADAvF,OAAM,MAAOC,cAAc;EAOzBC,YAAoBC,MAAc;IAAd,WAAM,GAANA,MAAM;IAJ1B,cAAS,GAAY,KAAK;IAE1B,gBAAW,GAAGP,MAAM,CAACG,YAAY,CAAC;IAIhC,IAAI,CAACK,UAAU,GAAG,IAAIN,SAAS,CAAC;MAC9BO,KAAK,EAAE,IAAIR,WAAW,EAAE;MACxBS,QAAQ,EAAE,IAAIT,WAAW;KAC1B,CAAC;EACJ;EAEMU,QAAQ;IAAA;IAAA;MAEZ,MAAMC,QAAQ,SAAS,KAAI,CAACC,WAAW,CAACC,KAAK,CAAC,KAAI,CAACN,UAAU,CAACO,KAAK,CAAC;MACpEC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACM,KAAK,CAAC;MAE7C,IAAGN,QAAQ,CAACM,KAAK,EAAC;QAChB,KAAI,CAACX,MAAM,CAACY,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;OAChC,MAAI;QACH,KAAI,CAACC,SAAS,GAAG,IAAI;;IACtB;EAEH;;AA1BWf,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCRvBrB,8BAAgC;MAC5BA,yBAA8B;MAE9BA,8BAAwD;MAGmBA;QAAA,OAAYsB,cAAU;MAAA,EAAC;MAE1FtB,2DAAuE;MAEvEA,8BAAkB;MACAA,qBAAK;MAAAA,iBAAQ;MAC3BA,2BAAgE;MACpEA,iBAAM;MACNA,8BAAkB;MACAA,yBAAQ;MAAAA,iBAAQ;MAC9BA,4BAAuE;MAC3EA,iBAAM;MACNA,+BAAmB;MACfA,6BAAwD;MACxDA,8BAAoB;MAAAA,wCAAkB;MAAAA,iBAAI;;;MAdJA,eAAwB;MAAxBA,0CAAwB;MAE9DA,eAAe;MAAfA,oCAAe","names":["inject","FormControl","FormGroup","UsersService","i0","LoginComponent","constructor","router","formulario","email","password","onSubmit","response","userService","login","value","localStorage","setItem","token","navigate","showError","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\benja\\Documents\\Proyecto\\Front\\ProyectoFront\\src\\app\\components\\users\\login\\login.component.ts","C:\\Users\\benja\\Documents\\Proyecto\\Front\\ProyectoFront\\src\\app\\components\\users\\login\\login.component.html"],"sourcesContent":["import { Component, inject } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { UsersService } from 'src/app/services/users.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n\n  formulario: FormGroup;\n  showError: boolean = false;\n\n  userService = inject(UsersService);\n\n  constructor(private router: Router) {\n\n    this.formulario = new FormGroup({\n      email: new FormControl(),\n      password: new FormControl(),\n    })\n  }\n\n  async onSubmit(){\n\n    const response = await this.userService.login(this.formulario.value);\n    localStorage.setItem('token', response.token);\n    \n    if(response.token){\n      this.router.navigate(['/home']);\n    }else{\n      this.showError = true;\n    }\n    \n  }\n\n}\n","\n\n    <div class=\"container-sm mar-b\">\n        <div class=\"row altura\"></div>\n\n        <div class=\"col-6 border shadow p-4 rounded rounded-5\" >\n\n\n            <form action=\"http://localhost:4200/register\" [formGroup]=\"formulario\" (ngSubmit)=\"onSubmit()\" class=\"align-middle\" >\n              \n                <p *ngIf=\"showError\" style=\"color: red;\">Email/Password incorrectos</p>\n                \n                <div class=\"mb-3\">\n                    <label for=\"\">Email</label>\n                    <input type=\"text\" class=\"form-control\" formControlName=\"email\">\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"\">Password</label>\n                    <input type=\"password\" class=\"form-control\" formControlName=\"password\">\n                </div>\n                <div class=\"login\">\n                    <input type=\"submit\" value=\"Login\" class=\"btn btn-info\">\n                    <a href=\"/register\">¿no tienes cuenta?</a>\n                </div>\n            </form>\n        </div>\n\n    </div>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}